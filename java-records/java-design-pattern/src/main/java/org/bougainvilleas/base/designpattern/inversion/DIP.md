### 依赖倒置原则 Dependence Inversion Principle

> High level modules should not depend upon low level modules.Both should depend upon abstractions.
> > 高层模块不应该依赖低层模块，两者都应该依赖其抽象；
>
> Abstractions should not depend upon details.
> > 抽象不应该依赖细节
>
> Details should depend upon abstractions
> > 细节应该依赖抽象
>
> JAVA中的表现
> > 模块间的依赖通过抽象发生 \
> > 实现类之间不发生直接的依赖关系 \
> > 其依赖关系是通过接口或抽象类产生的 \
> > 接口或抽象类不依赖于实现类 \
> > 实现类依赖接口或抽象类 \
> > OOD（Object-Oriented Design，面向对象设计）
>
> 好处
> > 减少类间的耦合性 \
> > 提高系统的稳定性 \
> > 降低并行开发引起的风险 \
> > 提高代码的可读性和可维护性
>
> 依赖三种写法
> > 构造函数传递依赖对象 \
> > Setter方法传递依赖对象 \
> > 接口声明依赖对象（接口注入）
>
> 注意
> > 稳定性较高的设计，在周围环境频繁变化的时候，依然可以做到“我自岿然不动” \
> > 在Java中，只要定义变量就必然要有类型，一个变量可以有两种类型：表面类型和实际类型， \
> > 表面类型是在定义的时候赋予的类型(抽象类型接口或者抽象或父类) \
> > 实际类型是对象的类型(具体类型new xxx()) \
> > TDD(Test Driven Development)开发模式就是依赖倒置原则的最高级应用 \
> >
> > 倒置
> > > 依赖正置就是类间的依赖是实实在在的实现类间的依赖，也就是面向实现编程， \
> > > 这也是正常人的思维方式，我要开奔驰车就依赖奔驰车，我要使用笔记本电脑就直接依赖笔记本电脑， \
> > > 而编写程序需要的是对现实世界的事物进行抽象，抽象的结果就是有了抽象类和接口，\
> > > 然后我们根据系统设计的需要产生了抽象间的依赖，代替了人们传统思维中的事物间的依赖，“倒置”就是从这里产生的 \
>
> 稳定性
> > 固化的、健壮的才是稳定的
>
> 最佳实践
> > 依赖倒置原则的本质就是通过抽象（接口或抽象类）使各个类或模块的实现彼此独立，不互相影响，实现模块间的松耦合 \
> > 每个类尽量都有接口或抽象类，或者抽象类和接口两者都具备 \
> > 变量的表面类型尽量是接口或者是抽象类 \
> > 任何类都不应该从具体类派生 \
> > 尽量不要覆写基类的方法
> >
> > 结合里氏替换原则使用
> > > 接口负责定义public属性和方法，并且声明与其他对象的依赖关系，\
> > > 抽象类负责公共构造部分的实现，实现类准确的实现业务逻辑，同时在适当的时候对父类进行细化